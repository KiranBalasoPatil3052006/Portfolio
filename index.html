<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kiran Patil - Portfolio</title>

    <!-- Google Fonts: JetBrains Mono (Developer Font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <!-- Font Awesome & Devicon for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

    <style>
        /* --- Root Variables for Theming --- */
        :root {
            --primary-color: #00BFFF;
            /* Deep Sky Blue */
            --secondary-color: #be00ff;
            /* Electric Purple */
            --background-color: #000000;
            --surface-color: rgba(13, 17, 36, 0.7);
            --text-color: #e6e6e6;
            --text-secondary: #a0a0a0;
            --border-color: rgba(0, 191, 255, 0.2);
            --glow-shadow: 0 0 20px rgba(0, 191, 255, 0.5);
            --error-color: #ff4d4d;
            --error-glow: 0 0 15px rgba(255, 77, 77, 0.6);
        }

        /* --- General Styling --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: var(--background-color);
            color: var(--text-color);
            overflow-x: hidden;
            font-size: 16px;
            /* Base font size */
        }

        body.preloader-active,
        body.nav-open,
        body.popup-open {
            /* ADDED: popup-open */
            overflow: hidden;
        }

        canvas#meteorCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .container {
            width: 100%;
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        h2.section-title {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 700;
            text-align: center;
            margin-bottom: 50px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            justify-content: center;
        }

        /* --- Preloader --- */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: var(--background-color);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            transition: opacity 0.7s ease-in-out;
        }

        #preloader.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .preloader-content h1 {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .preloader-form {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .preloader-form.visible {
            opacity: 1;
        }

        .preloader-input {
            background: transparent;
            border: 2px solid var(--surface-color);
            border-radius: 8px;
            padding: 10px 15px;
            color: var(--text-color);
            font-size: 1rem;
            width: clamp(250px, 70vw, 350px);
            text-align: center;
            transition: border-color 0.3s, box-shadow 0.3s;
            font-family: 'JetBrains Mono', monospace;
        }

        .preloader-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: var(--glow-shadow);
        }

        .preloader-input.input-error {
            border-color: var(--error-color);
            box-shadow: var(--error-glow);
        }

        .preloader-button {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 8px;
            padding: 10px 25px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            font-family: 'JetBrains Mono', monospace;
        }

        .preloader-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 170, 255, 0.6);
        }

        .preloader-skip {
            opacity: 0;
            pointer-events: none;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            margin-top: 15px;
            transition: opacity 0.5s ease;
        }

        .preloader-skip:hover {
            color: var(--primary-color);
        }

        .preloader-skip.visible {
            opacity: 1;
            pointer-events: auto;
        }


        /* Hide main content initially */
        .main-content {
            opacity: 0;
            transition: opacity 0.7s ease-in-out;
        }

        .main-content.visible {
            opacity: 1;
        }


        /* --- Header & Navigation --- */
        .header {
            position: sticky;
            top: 0;
            width: 100%;
            padding: 15px 0;
            z-index: 900;
            /* Lowered z-index for popup */
            transition: background-color 0.3s ease-in-out, padding 0.3s ease-in-out;
        }

        .header.scrolled {
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
            padding: 10px 0;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
        }

        .nav-logo span {
            color: var(--primary-color);
        }

        .nav-menu-desktop {
            display: none;
            gap: 30px;
            list-style: none;
        }

        .nav-menu-desktop a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 1rem;
            position: relative;
            padding-bottom: 5px;
            transition: color 0.3s;
        }

        .nav-menu-desktop a:hover {
            color: var(--primary-color);
        }

        .nav-menu-desktop a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transition: width 0.3s ease;
        }

        .nav-menu-desktop a:hover::after {
            width: 100%;
        }

        .hamburger {
            display: block;
            cursor: pointer;
            z-index: 1001;
        }

        .bar {
            display: block;
            width: 25px;
            height: 3px;
            margin: 5px 0;
            background-color: white;
            border-radius: 3px;
            transition: all 0.3s ease-in-out;
        }

        /* Mobile Nav Menu */
        .nav-menu-mobile {
            position: fixed;
            left: 0;
            top: 0;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: rgba(5, 8, 22, 0.9);
            backdrop-filter: blur(10px);
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.4s cubic-bezier(0.23, 1, 0.32, 1), transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            gap: 15px;
            list-style: none;
            z-index: 1000;
            display: flex;
        }

        .nav-menu-mobile.active {
            transform: scale(1);
            opacity: 1;
            pointer-events: auto;
        }

        .nav-menu-mobile li {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        .nav-menu-mobile li a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 1.5rem;
            padding: 8px 15px;
        }

        .nav-menu-mobile.active li {
            opacity: 1;
            transform: translateY(0);
        }

        .nav-menu-mobile.active li:nth-child(1) {
            transition-delay: 0.2s;
        }

        .nav-menu-mobile.active li:nth-child(2) {
            transition-delay: 0.25s;
        }

        .nav-menu-mobile.active li:nth-child(3) {
            transition-delay: 0.3s;
        }

        .nav-menu-mobile.active li:nth-child(4) {
            transition-delay: 0.35s;
        }

        .nav-menu-mobile.active li:nth-child(5) {
            transition-delay: 0.4s;
        }

        .nav-menu-mobile.active li:nth-child(6) {
            transition-delay: 0.45s;
        }


        .hamburger.active .bar:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active .bar:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }

        .hamburger.active .bar:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }


        /* --- Hero Section (NEW 2-COLUMN LAYOUT) --- */
        .hero-section {
            min-height: calc(100vh - 60px);
            display: flex;
            flex-direction: column;
            /* MOBILE FIRST: Stacked */
            align-items: center;
            justify-content: center;
            margin-top: -80px;
            text-align: center;
            /* MOBILE FIRST: Centered */
            gap: 25px;
            /* Gap for stacked items on mobile */
        }

        .hero-left-column {
            display: flex;
            flex-direction: column;
            width: 100%;
            /* Full width on mobile */
            gap: 25px;
            /* Space between text and about box */
        }

        .hero-right-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            /* Space between image and icons */
            width: 100%;
            /* Full width on mobile */
        }

        .hero-text {
            /* This is now just a wrapper for name/role */
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
            /* Center on mobile */
        }

        .hero-text h1 {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            white-space: normal;
            /* Allow name to wrap on mobile */
        }

        .hero-text h2 {
            font-size: clamp(1.2rem, 3.5vw, 1.6rem);
            min-height: 30px;
            margin-bottom: 25px;
            /* More space before links */
        }

        .typewriter-cursor {
            display: inline-block;
            width: 2px;
            height: clamp(1.2rem, 3.5vw, 1.6rem);
            background-color: var(--text-color);
            margin-left: 3px;
            animation: blink 0.7s infinite;
            vertical-align: middle;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        #hero-name-reveal span {
            opacity: 0;
            display: inline-block;
            transition: opacity 0.2s ease;
        }

        .hero-image-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .image-border-box {
            width: clamp(180px, 30vw, 250px);
            /* Made it circular */
            height: clamp(180px, 30vw, 250px);
            position: relative;
            border-radius: 50%;
            /* CIRCLE */
            overflow: hidden;
            padding: 4px;
        }

        .image-border-box::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg,
                    silver,
                    #a0a0a0,
                    silver,
                    #e0e0e0,
                    silver);
            animation: rotate-border 6s linear infinite;
            transform-origin: center center;
            transform: translate(-50%, -50%) rotate(0deg);
        }

        @keyframes rotate-border {
            from {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        .hero-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            /* CIRCLE */
            position: relative;
            z-index: 2;
        }

        .hero-contact-links {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .hero-contact-links a {
            font-size: 1.5rem;
            color: var(--text-color);
            transition: color 0.3s, transform 0.3s;
        }

        .hero-contact-links a:hover {
            color: var(--primary-color);
            /* This is the requested hover color change */
            transform: translateY(-5px);
        }

        /* About Me Box */
        .about-me-box {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            backdrop-filter: blur(5px);
            padding: 25px;
            max-width: 600px;
            margin: 0 auto;
            /* Centered on mobile */
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-secondary);
            text-align: center;
            /* Centered on mobile */
        }


        /* --- Universal Section & Animation Styling --- */
        .section {
            padding: 80px 0;
        }

        .animate-on-scroll {
            opacity: 0;
            transform: translateY(100px);
            transition: opacity 1s cubic-bezier(0.2, 0.8, 0.2, 1), transform 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Card Styling --- */
        .card {
            padding: 25px;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            /* ADDED: Centered content for specific sections */
        }

        #skills .card,
        #tools .card,
        #hosting .card {
            text-align: center;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--glow-shadow);
        }

        .card-icon {
            font-size: 3.5rem;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-icon.hosting-logo {
            font-size: 2.5rem;
            width: 40px;
            height: 40px;
            margin-bottom: 10px;
            -webkit-text-fill-color: var(--primary-color);
            /* ADDED: Center icon */
            margin-left: auto;
            margin-right: auto;
        }

        .card-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .card-description {
            font-size: 0.9rem;
            margin-bottom: 20px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .card-button {
            display: inline-block;
            text-decoration: none;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            font-family: 'JetBrains Mono', monospace;
        }

        .card-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 170, 255, 0.6);
        }

        .card-button.btn-secondary {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .card-button.btn-secondary:hover {
            background: var(--primary-color);
            color: white;
            box-shadow: var(--glow-shadow);
        }


        /* --- Project Card Specifics --- */
        .card.project-card {
            padding: 0;
            overflow: hidden;
            text-align: left;
            /* Override centering */
        }

        .project-image {
            height: 200px;
            width: 100%;
            display: block;
            object-fit: cover;
        }

        .project-info {
            padding: 25px;
        }

        .project-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .project-description {
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .project-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* --- Footer (REMOVED CONTACT FORM) --- */
        .footer {
            padding: 60px 0 30px;
            /* Adjusted padding */
            margin-top: 80px;
            border-top: 1px solid var(--border-color);
            text-align: center;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 30px;
        }

        .social-links a {
            font-size: 1.8rem;
            color: var(--text-secondary);
            transition: color 0.3s, transform 0.3s;
        }

        .social-links a:hover {
            color: var(--primary-color);
            transform: translateY(-5px);
        }

        .footer p.copyright {
            margin-top: 30px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* --- NEW: Floating Contact Button --- */
        .floating-contact-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            cursor: pointer;
            box-shadow: 0 0 20px var(--primary-color);
            z-index: 998;
            transition: transform 0.3s ease;
            animation: pulse 2s infinite;
        }

        .floating-contact-btn:hover {
            transform: scale(1.1);
            animation-play-state: paused;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 20px var(--primary-color);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 0 30px var(--secondary-color);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 20px var(--primary-color);
            }
        }

        /* --- NEW: Contact Popup --- */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .popup-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .popup-content {
            position: relative;
            width: 100%;
            max-width: 700px;
            /* .contact-container is moved inside this */
        }

        .popup-back-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 2rem;
            font-weight: bold;
            line-height: 1;
            cursor: pointer;
            z-index: 1002;
            padding: 5px;
        }

        .popup-back-btn:hover {
            color: var(--primary-color);
        }

        /* Contact Container (Inside Popup) */
        .contact-container {
            padding: 30px;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            backdrop-filter: blur(5px);
            position: relative;
            /* For stacking form/success msg */
            min-height: 460px;
            /* Keep height for stacking */
            width: 100%;
            /* Take width of popup-content */
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            transition: opacity 0.5s ease, visibility 0.5s;
            visibility: visible;
            opacity: 1;
        }

        .contact-form.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .contact-form input,
        .contact-form textarea {
            padding: 12px;
            font-size: 0.9rem;
            background: transparent;
            border: 2px solid var(--surface-color);
            border-radius: 8px;
            color: var(--text-color);
            font-family: 'JetBrains Mono', monospace;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: var(--glow-shadow);
        }

        .contact-form textarea {
            min-height: 100px;
            resize: vertical;
        }

        .contact-form button {
            padding: 12px;
            font-size: 1rem;
            display: inline-block;
            text-decoration: none;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            font-family: 'JetBrains Mono', monospace;
        }

        .contact-form button:hover {
            transform: scale(1.02);
            box-shadow: 0 0 25px rgba(0, 170, 255, 0.6);
        }

        /* UPDATED: Style for button when disabled */
        .contact-form button:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: scale(1);
            box-shadow: none;
        }

        .success-message {
            font-size: 1.2rem;
            padding: 0 20px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.5s ease, visibility 0.5s;
        }

        .success-message.visible {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .success-message span {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        /* --- Responsive Design Media Queries --- */

        /* Small devices (phones, less than 640px) */
        @media (max-width: 639px) {
            .section-grid {
                grid-template-columns: 1fr;
            }

            .hero-section {
                /* gap: 20px; */
                /* Already set */
                padding: 40px 0;
            }

            .hero-text h1 {
                white-space: normal;
                /* Allow name to wrap */
            }

            .image-border-box {
                width: clamp(180px, 50vw, 220px);
                /* Slightly adjusted */
                height: clamp(180px, 50vw, 220px);
            }

            .hero-contact-links {
                gap: 15px;
            }

            .contact-container {
                min-height: 440px;
            }

            .floating-contact-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
                bottom: 20px;
                right: 20px;
            }
        }

        /* Medium devices (tablets, 768px and up) */
        @media (min-width: 768px) {
            .hamburger {
                display: none;
            }

            .nav-menu-desktop {
                display: flex;
            }

            .nav-menu-mobile {
                display: none;
            }

            /* NEW HERO LAYOUT RULES */
            .hero-section {
                min-height: 100vh;
                padding: 100px 0 50px;
                flex-direction: row;
                /* DESKTOP: Side-by-side */
                justify-content: space-between;
                align-items: center;
                gap: 40px;
                /* Gap between columns */
            }

            .hero-left-column {
                flex: 1;
                /* Take up available space */
                order: 1;
                /* Left column */
                align-items: flex-start;
                /* Align text to the left */
                gap: 25px;
            }

            .hero-right-column {
                flex-basis: 40%;
                /* Take up specific space */
                order: 2;
                /* Right column */
                align-items: center;
                /* Center image/icons within the column */
                gap: 30px;
            }

            .hero-text {
                text-align: left;
                /* DESKTOP: Align text left */
                margin: 0;
                /* Remove auto margin */
                max-width: 100%;
            }

            .hero-text h1 {
                white-space: nowrap;
                /* Stop name from wrapping */
            }

            .about-me-box {
                text-align: left;
                /* DESKTOP: Align text left */
                margin: 0;
                /* Remove auto margin */
                max-width: 100%;
                /* Allow it to fill the left column */
            }

            /* END NEW HERO LAYOUT RULES */

            .section-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }

            .contact-container {
                min-height: 460px;
            }
        }

        /* Large devices (desktops, 1024px and up) */
        @media (min-width: 1024px) {

            /* Tweak hero column balance for large screens */
            .hero-left-column {
                flex-basis: 55%;
                /* Give text more space */
            }

            .hero-right-column {
                flex-basis: 35%;
                /* Give image less space */
            }


            .section-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }

            h2.section-title {
                font-size: clamp(2rem, 5vw, 3rem);
            }

            .card {
                padding: 30px;
            }

            .card-icon {
                font-size: 4rem;
                margin-bottom: 20px;
            }

            .card-icon.hosting-logo {
                font-size: 3rem;
                width: 48px;
                height: 48px;
                margin-bottom: 15px;
            }

            .card-title {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }

            .card-description {
                font-size: 1rem;
                margin-bottom: 25px;
            }

            .card-button {
                padding: 10px 20px;
                font-size: 1rem;
            }

            .project-image {
                height: 250px;
            }

            .project-info {
                padding: 30px;
            }

            .project-title {
                font-size: 1.5rem;
            }

            .project-description {
                font-size: 1rem;
            }

            .project-buttons {
                gap: 15px;
            }

            .contact-form input,
            .contact-form textarea {
                font-size: 1rem;
                padding: 15px;
            }

            .contact-form textarea {
                min-height: 120px;
            }

            .contact-form button {
                font-size: 1.1rem;
                padding: 15px;
            }

            .success-message {
                font-size: 1.5rem;
            }

        }
    </style>
</head>

<body class="preloader-active"> <!-- Start with preloader active -->

    <!-- Preloader -->
    <div id="preloader">
        <div class="preloader-content">
            <h1 id="preloader-text"></h1>
            <form class="preloader-form" id="preloader-form">
                <input type="text" id="visitor-name" class="preloader-input" placeholder="What's your name?" required>
                <button type="submit" class="preloader-button">Enter</button>
                <a href="#" id="preloader-skip-btn" class="preloader-skip">Skip?</a>
            </form>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <canvas id="meteorCanvas"></canvas>

        <header class="header" id="header">
            <nav class="navbar container">
                <a href="#" class="nav-logo">Kiran<span>.</span></a>
                <ul class="nav-menu-desktop">
                    <li><a href="#hero">Home</a></li>
                    <li><a href="#skills">Skills</a></li>
                    <li><a href="#tools">Tools</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#hosting">Hosting</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
                <ul class="nav-menu-mobile" id="nav-menu-mobile">
                    <li><a href="#hero">Home</a></li>
                    <li><a href="#skills">Skills</a></li>
                    <li><a href="#tools">Tools</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#hosting">Hosting</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
                <div class="hamburger" id="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </header>

        <main>
            <!-- Hero Section (REDESIGNED 2-COLUMN) -->
            <section class="hero-section container" id="hero">
                <!-- Left Column -->
                <div class="hero-left-column">
                    <div class="hero-text">
                        <h1 id="hero-name-reveal"></h1> <!-- Name will be injected by JS -->
                        <h2 id="hero-role-typewriter"></h2>
                    </div>
                    <div class="about-me-box">
                        <h2 class="hero-text">About Me</h2>
                        I'm a front-end developer and future full-stack innovator. I love collaborating on projects and
                        building modern websites and apps, often leveraging AI prompting to create unique solutions.
                    </div>
                </div>

                <!-- Right Column -->
                <div class="hero-right-column">
                    <div class="hero-image-container">
                        <div class="image-border-box">
                            <img src="https://placehold.co/250x250/0d1124/00BFFF?text=KP" class="hero-image"
                                alt="Kiran Balaso Patil" />
                        </div>
                    </div>
                    <div class="hero-contact-links">
                        <a href="https://linkedin.com/in/kiran-balaso-patil-851a43351/" target="_blank"
                            aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                        <a href="https://github.com/KiranBalasoPatil3052006" target="_blank" aria-label="GitHub"><i
                                class="fab fa-github"></i></a>
                        <a href="mailto:kiranbalasopatil@gmail.com" target="_blank" aria-label="Email"><i
                                class="fas fa-envelope"></i></a>
                        <a href="tel:+8610641610" target="_blank" aria-label="Phone"><i class="fas fa-phone"></i></a>
                        <a href="https://www.instagram.com/_kiranpatil_5/" target="_blank" aria-label="Instagram"><i
                                class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </section>


            <!-- Skills Section (Centered) -->
            <section class="section container animate-on-scroll" id="skills">
                <h2 class="section-title">Skills</h2>
                <div class="section-grid">
                    <!-- HTML5 -->
                    <div class="card">
                        <i class="card-icon devicon-html5-plain"></i>
                        <h3 class="card-title">HTML5</h3>
                        <p class="card-description">The standard markup language for creating and structuring web pages.
                        </p>
                        <a href="#" class="card-button">Learn More</a>
                    </div>
                    <!-- CSS3 -->
                    <div class="card">
                        <i class="card-icon devicon-css3-plain"></i>
                        <h3 class="card-title">CSS3</h3>
                        <p class="card-description">Style sheet language used for designing the presentation of web
                            pages.</p>
                        <a href="#" class="card-button">Learn More</a>
                    </div>
                    <!-- JavaScript -->
                    <div class="card">
                        <i class="card-icon devicon-javascript-plain"></i>
                        <h3 class="card-title">JavaScript</h3>
                        <p class="card-description">A programming language for creating dynamic and interactive web
                            content.</p>
                        <a href="#" class="card-button">Learn More</a>
                    </div>
                    <!-- Java -->
                    <div class="card">
                        <i class="card-icon devicon-java-plain"></i>
                        <h3 class="card-title">Java</h3>
                        <p class="card-description">A versatile, object-oriented language for building cross-platform
                            applications.</p>
                        <a href="#" class="card-button">Learn More</a>
                    </div>
                    <!-- Python -->
                    <div class="card">
                        <i class="card-icon devicon-python-plain"></i>
                        <h3 class="card-title">Python</h3>
                        <p class="card-description">High-level language for web development, data analysis, scripting,
                            and AI.</p>
                        <a href="#" class="card-button">Learn More</a>
                    </div>
                    <!-- MongoDB -->
                    <div class="card">
                        <i class="card-icon devicon-mongodb-plain"></i>
                        <h3 class="card-title">MongoDB</h3>
                        <p class="card-description">A NoSQL database using JSON-like documents for flexible data
                            storage.</p>
                        <a href="#" class="card-button">Learn More</a>
                    </div>
                </div>
            </section>

            <!-- Tools Section (Centered + Figma) -->
            <section class="section container animate-on-scroll" id="tools">
                <h2 class="section-title">Tools</h2>
                <div class="section-grid">
                    <!-- Git Tool -->
                    <div class="card">
                        <i class="card-icon devicon-git-plain"></i>
                        <h3 class="card-title">Git</h3>
                        <p class="card-description">A distributed version control system, crucial for managing code
                            history.</p>
                        <a href="https://git-scm.com/downloads" target="_blank" class="card-button">Download</a>
                    </div>
                    <!-- GitHub -->
                    <div class="card">
                        <i class="card-icon devicon-github-original"></i>
                        <h3 class="card-title">GitHub</h3>
                        <p class="card-description">A web-based platform for hosting Git repositories and
                            collaboration.</p>
                        <a href="https://github.com/" target="_blank" class="card-button">Visit GitHub</a>
                    </div>
                    <!-- VS Code -->
                    <div class="card">
                        <i class="card-icon devicon-visualstudio-plain"></i>
                        <h3 class="card-title">VS Code</h3>
                        <p class="card-description">A free, powerful source-code editor developed by Microsoft for all
                            platforms.</p>
                        <a href="https://code.visualstudio.com/download" target="_blank"
                            class="card-button">Download</a>
                    </div>
                    <!-- NEW: Figma -->
                    <div class="card">
                        <i class="card-icon devicon-figma-plain"></i>
                        <h3 class="card-title">Figma</h3>
                        <p class="card-description">A collaborative interface design tool for creating, testing, and
                            shipping designs.</p>
                        <a href="https://www.figma.com/" target="_blank" class="card-button">Visit Figma</a>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section class="section container animate-on-scroll" id="projects">
                <h2 class="section-title">Projects</h2>
                <div class="section-grid">
                    <!-- Project 1: SmartCart -->
                    <div class="card project-card">
                        <img src="https://placehold.co/600x400/0d1124/00BFFF?text=SmartCart" alt="SmartCart Project"
                            class="project-image" />
                        <div class="project-info">
                            <h3 class="project-title">SmartCart</h3>
                            <p class="project-description">Makes in-mall shopping easier. Add, remove, and scan products
                                with your mobile, letting you skip the checkout queue.</p>
                            <div class="project-buttons">
                                <a href="#" class="card-button">Visit</a>
                                <a href="#" class="card-button btn-secondary">View Code</a>
                            </div>
                        </div>
                    </div>
                    <!-- Project 2: Calculator -->
                    <div class="card project-card">
                        <img src="https://placehold.co/600x400/0d1124/be00ff?text=Calculator" alt="Calculator Project"
                            class="project-image" />
                        <div class="project-info">
                            <h3 class="project-title">Calculator</h3>
                            <p class="project-description">A sleek calculator performing all essential arithmetic
                                operations.</p>
                            <div class="project-buttons">
                                <a href="#" class="card-button">Visit</a>
                                <a href="#" class="card-button btn-secondary">View Code</a>
                            </div>
                        </div>
                    </div>
                    <!-- Project 3: Todo -->
                    <div class="card project-card">
                        <img src="https://placehold.co/600x400/0d1124/00BFFF?text=Todo+App" alt="Todo Project"
                            class="project-image" />
                        <div class="project-info">
                            <h3 class="project-title">Todo App</h3>
                            <p class="project-description">Manage your daily tasks. Add new items, mark them as
                                complete, or delete them to stay organized.</p>
                            <div class="project-buttons">
                                <a href="#" class="card-button">Visit</a>
                                <a href="#" class="card-button btn-secondary">View Code</a>
                            </div>
                        </div>
                    </div>
                    <!-- Project 4: Splitz -->
                    <div class="card project-card">
                        <img src="https://placehold.co/600x400/0d1124/be00ff?text=Splitz" alt="Splitz Project"
                            class="project-image" />
                        <div class="project-info">
                            <h3 class="project-title">Splitz</h3>
                            <p class="project-description">Easily splits profits between partners based on their
                                individual investments. Calculates percentage and amount.</p>
                            <div class="project-buttons">
                                <a href="#" class="card-button">Visit</a>
                                <a href="#" class="card-button btn-secondary">View Code</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Hosting Platforms Section (Centered) -->
            <section class="section container animate-on-scroll" id="hosting">
                <h2 class="section-title">Hosting Platforms</h2>
                <div class="section-grid">
                    <!-- Netlify -->
                    <div class="card">
                        <div class="card-icon hosting-logo"><svg role="img" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                                <title>Netlify</title>
                                <path
                                    d="M0 11.968l4.087 4.087 4.087-4.087L4.087 7.881 0 11.968zm4.087 4.087l3.415 3.415v-6.83l-3.415-3.415v6.83zm.668 4.099l4.087 4.087L12.257 24l-3.415-3.415-4.087.568zM11.743 0l-4.087.568L4.24 3.983l3.415-3.415L11.743 0zm.514 24l3.415-3.415 3.415 3.415-4.087-.568-2.743.568zm-.514-24l4.087.568 3.415 3.415L11.743.568 8.328 3.983 11.743 0zm12.257 11.968l-4.087-4.087 4.087-4.087 4.087 4.087-4.087 4.087zm-4.087-4.087l-3.415-3.415v6.83l3.415 3.415v-6.83zm-.668-4.099l-4.087-4.087L8.328 0l3.415 3.415 4.087-.568zm4.755 20.248l-4.087-4.087-3.415 3.415 4.087.568 3.415-3.415z">
                                </path>
                            </svg></div>
                        <h3 class="card-title">Netlify</h3>
                        <p class="card-description">The fastest way to deploy your modern, high-performance front-end
                            websites.</p>
                        <a href="#" class="card-button">How to Host</a>
                    </div>
                    <!-- GitHub Pages -->
                    <div class="card">
                        <div class="card-icon hosting-logo"><i class="devicon-github-original"
                                style="-webkit-text-fill-color: white;"></i></div>
                        <h3 class="card-title">GitHub Pages</h3>
                        <p class="card-description">Host your static sites for free, directly from your GitHub
                            repository.</p>
                        <a href="#" class="card-button">How to Host</a>
                    </div>
                    <!-- Render -->
                    <div class="card">
                        <div class="card-icon hosting-logo"><svg role="img" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                                <title>Render</title>
                                <path
                                    d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm-2.03 16.76L5.32 12.11l1.41-1.42 3.24 3.24 6.9-6.9 1.41 1.42-8.31 8.31z">
                                </path>
                            </svg></div>
                        <h3 class="card-title">Render</h3>
                        <p class="card-description">A unified cloud platform to build and run all your backend apps and
                            databases.</p>
                        <a href="#" class="card-button">How to Host</a>
                    </div>
                    <!-- MongoDB Atlas -->
                    <div class="card">
                        <div class="card-icon hosting-logo"><svg role="img" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                                <title>MongoDB</title>
                                <path
                                    d="M12.012 24C5.388 24 0 18.612 0 11.988 0 5.364 5.388 0 12.012 0c6.624 0 11.988 5.364 11.988 11.988 0 6.624-5.364 12.012-11.988 12.012zm-.012-1.764c5.64 0 10.224-4.584 10.224-10.224S17.64 1.764 12 1.764 1.764 6.348 1.764 12s4.584 10.236 10.224 10.236zM11.028 6.014c.456.024.9.108 1.32.228.804.228 1.464.6 1.956 1.104.492.504.756.972.756 1.404 0 .384-.108.744-.324 1.068-.216.324-.528.612-.924.864.216.204.384.42.504.648.12.228.18.492.18.792 0 .588-.264 1.152-.78 1.692-.516.54-1.212.912-2.076 1.104-.42.096-.864.168-1.32.204v-1.224c.264-.048.516-.108.756-.18.612-.18 1.056-.492 1.332-.936.276-.444.408-.984.408-1.62 0-.6-.132-1.092-.396-1.476-.264-.384-.708-.624-1.332-.72v-1.092c.672-.096 1.176-.348 1.512-.756.336-.408.504-.924.504-1.548 0-.576-.156-1.044-.468-1.404-.312-.36-.792-.588-1.44-.672V6.014z">
                                </path>
                            </svg></div>
                        <h3 class="card-title">MongoDB Atlas</h3>
                        <p class="card-description">A powerful, fully-managed cloud database service for your MongoDB
                            applications.</p>
                        <a href="#" class="card-button">How to Host</a>
                    </div>
                </div>
            </section>

            <!-- Footer (No Contact Form) -->
            <footer class="footer container" id="contact">
                <h2 class="section-title">Get In Touch</h2>
                <div class="social-links">
                    <a href="mailto:kiranbalasopatil@gmail.com" target="_blank" aria-label="Email"><i
                            class="fas fa-envelope"></i></a>
                    <a href="https://linkedin.com/in/kiran-balaso-patil-851a43351/" target="_blank"
                        aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="https://github.com/KiranBalasoPatil3052006" target="_blank" aria-label="GitHub"><i
                            class="fab fa-github"></i></a>
                    <a href="tel:+8610641610" target="_blank" aria-label="Phone"><i class="fas fa-phone"></i></a>
                    <a href="https://www.instagram.com/_kiranpatil_5/" target="_blank" aria-label="Instagram"><i
                            class="fab fa-instagram"></i></a>
                </div>
                <p class="copyright"> 2025 Kiran Patil. All rights reserved.</p>
            </footer>
        </main>
    </div>

    <!-- NEW: Floating Contact Button -->
    <div class="floating-contact-btn" id="floating-contact-btn">
        <i class="fas fa-envelope"></i>
    </div>

    <!-- NEW: Contact Form Popup -->
    <div class="popup-overlay" id="contact-popup-overlay">
        <div class="popup-content">
            <button class="popup-back-btn" id="popup-back-btn">&times;</button>
            <!-- Contact Container is now INSIDE the popup -->
            <div class="contact-container animate-on-scroll">
                <h2 class="section-title" style="margin-bottom: 30px;">Want to work with me?</h2>
                <div class="success-message" id="success-message"></div>

                <!-- 
                  UPDATED FORM TAG:
                  - Added method="POST"
                  - Added action="YOUR_FORMSPREE_URL" (REPLACE THIS)
                  - Kept the id="contact-form" for the JavaScript to find
                -->
                <form class="contact-form" id="contact-form" method="POST"
                    action="https://formspree.io/f/xnnokzpl">
                    <!-- Make sure to replace the action URL -->

                    <input type="text" name="name" placeholder="Your Name" required>
                    <input type="email" name="email" placeholder="Your Email" required>
                    <input type="tel" name="mobile" placeholder="Your Mobile Number" required>
                    <textarea name="message" placeholder="Tell me a little about your project..." required></textarea>
                    <button type="submit">Send Message</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            const mainContent = document.querySelector('.main-content');

            // --- Preloader Logic ---
            const preloader = document.getElementById('preloader');
            const preloaderText = document.getElementById('preloader-text');
            const preloaderForm = document.getElementById('preloader-form');
            const visitorNameInput = document.getElementById('visitor-name');
            const preloaderSkipBtn = document.getElementById('preloader-skip-btn');
            const preloaderWelcomeText = "Hey, I'm Kiran.";
            let preloaderCharIndex = 0;

            function typePreloaderText() {
                if (preloaderCharIndex < preloaderWelcomeText.length) {
                    preloaderText.textContent += preloaderWelcomeText.charAt(preloaderCharIndex);
                    preloaderCharIndex++;
                    setTimeout(typePreloaderText, 100);
                } else {
                    preloaderForm.classList.add('visible');
                    visitorNameInput.focus();
                    setTimeout(() => {
                        preloaderSkipBtn.classList.add('visible');
                    }, 10000);
                }
            }

            function proceedToSite() {
                preloader.classList.add('fade-out');
                mainContent.classList.add('visible');
                body.classList.remove('preloader-active');
                setTimeout(() => {
                    preloader.style.display = 'none';
                    startMainContentAnimations();
                }, 700);
            }

            visitorNameInput.addEventListener('input', () => {
                if (visitorNameInput.classList.contains('input-error')) {
                    visitorNameInput.classList.remove('input-error');
                }
            });

            preloaderForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const visitorName = visitorNameInput.value.trim();
                if (visitorName !== "") {
                    visitorNameInput.classList.remove('input-error');
                    proceedToSite();
                } else {
                    visitorNameInput.classList.add('input-error');
                }
            });

            preloaderSkipBtn.addEventListener('click', (e) => {
                e.preventDefault();
                proceedToSite();
            });

            typePreloaderText();


            // --- Meteor Shower Background ---
            const canvas = document.getElementById('meteorCanvas');
            const ctx = canvas.getContext('2d');
            let width = window.innerWidth;
            let height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            let animationFrameId;

            window.addEventListener('resize', () => {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
                createStars();
            });

            let stars = [];
            let meteors = [];

            function createStars() {
                stars = Array.from({ length: 130 }, () => ({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    size: Math.random() * 1.3,
                    // MODIFICATION: Increased speed
                    speed: 0.1 + Math.random() * 0.2
                }));
            }

            function createMeteor() {
                const angle = Math.PI / 4;
                const speedMagnitude = 4 + Math.random() * 3;
                const length = 300 + Math.random() * 300;
                return {
                    x: -50,
                    y: Math.random() * height * 0.2 - 50,
                    length: length,
                    speedX: speedMagnitude * Math.cos(angle),
                    speedY: speedMagnitude * Math.sin(angle),
                    opacity: 0.7 + Math.random() * 0.3,
                    color: Math.random() > 0.5 ? 'rgba(173,216,230,1)' : 'rgba(0,191,255,1)'
                };
            }

            function spawnMeteors() {
                if (meteors.length < 5) {
                    const count = 1 + Math.floor(Math.random() * 2);
                    for (let i = 0; i < count; i++) {
                        meteors.push(createMeteor());
                    }
                }
            }

            function drawStars() {
                ctx.fillStyle = 'white';
                stars.forEach(star => {
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                    ctx.fill();
                    star.y += star.speed;
                    if (star.y > height + star.size) {
                        star.y = 0 - star.size;
                        star.x = Math.random() * width;
                    }
                });
            }

            function drawMeteors() {
                meteors.forEach((meteor, index) => {
                    const tailEndX = meteor.x - (meteor.speedX / Math.sqrt(meteor.speedX ** 2 + meteor.speedY ** 2)) * meteor.length;
                    const tailEndY = meteor.y - (meteor.speedY / Math.sqrt(meteor.speedX ** 2 + meteor.speedY ** 2)) * meteor.length;
                    const gradient = ctx.createLinearGradient(meteor.x, meteor.y, tailEndX, tailEndY);
                    const headColor = meteor.color.replace(/,1\)/, `,${meteor.opacity})`);
                    const tailColor = meteor.color.replace(/,1\)/, ',0)');
                    gradient.addColorStop(0, headColor);
                    gradient.addColorStop(1, tailColor);
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = meteor.color.replace(/,1\)/, `,${meteor.opacity * 0.5})`);
                    ctx.beginPath();
                    ctx.strokeStyle = gradient;
                    ctx.lineWidth = 3.5;
                    ctx.moveTo(meteor.x, meteor.y);
                    ctx.lineTo(tailEndX, tailEndY);
                    ctx.stroke();
                    ctx.shadowBlur = 0;
                    ctx.shadowColor = 'transparent';
                    meteor.x += meteor.speedX;
                    meteor.y += meteor.speedY;
                    if (meteor.x > width + meteor.length || meteor.y > height + meteor.length) {
                        meteors.splice(index, 1);
                    }
                });
            }

            function animateCanvas() {
                if (!body.classList.contains('preloader-active')) {
                    ctx.clearRect(0, 0, width, height);
                    drawStars();
                    drawMeteors();
                }
                animationFrameId = requestAnimationFrame(animateCanvas);
            }

            // --- Function to start animations AFTER preloader ---
            function startMainContentAnimations() {
                // --- Hero Animations ---
                const nameEl = document.getElementById('hero-name-reveal');
                const roleEl = document.getElementById('hero-role-typewriter');

                function animateNameFromCenter() {
                    const text = "Kiran Balaso Patil";
                    const letters = text.split('');
                    nameEl.innerHTML = '';
                    const spans = letters.map(letter => {
                        const span = document.createElement('span');
                        span.textContent = (letter === ' ') ? '\u00A0' : letter;
                        nameEl.appendChild(span);
                        return span;
                    });
                    const mid = Math.floor(spans.length / 2);
                    let delay = 0;
                    for (let i = 0; i <= mid; i++) {
                        const leftIndex = mid - i;
                        const rightIndex = mid + i;
                        if (leftIndex >= 0) {
                            setTimeout(() => {
                                if (spans[leftIndex]) spans[leftIndex].style.opacity = '1';
                            }, delay);
                        }
                        if (rightIndex < spans.length && rightIndex !== leftIndex) {
                            setTimeout(() => {
                                if (spans[rightIndex]) spans[rightIndex].style.opacity = '1';
                            }, delay);
                        }
                        delay += 90;
                    }
                }

                class Typewriter {
                    constructor(element, roles) {
                        this.el = element;
                        this.roles = roles;
                        this.loopNum = 0;
                        this.txt = '';
                        this.isDeleting = false;
                        this.tick();
                    }
                    tick() {
                        const i = this.loopNum % this.roles.length;
                        const fullTxt = this.roles[i];
                        let typeSpeed = 150;
                        if (this.isDeleting) {
                            this.txt = fullTxt.substring(0, this.txt.length - 1);
                            typeSpeed = 75;
                        } else {
                            this.txt = fullTxt.substring(0, this.txt.length + 1);
                        }
                        this.el.innerHTML = `${this.txt}<span class="typewriter-cursor"></span>`;
                        if (!this.isDeleting && this.txt === fullTxt) {
                            typeSpeed = 2000;
                            this.isDeleting = true;
                        } else if (this.isDeleting && this.txt === '') {
                            this.isDeleting = false;
                            this.loopNum++;
                            typeSpeed = 500;
                        }
                        setTimeout(() => this.tick(), typeSpeed);
                    }
                }

                setTimeout(() => {
                    animateNameFromCenter();
                    // UPDATED: New typewriter roles
                    new Typewriter(roleEl, ["Aspiring Full Stack Developer", "Front-end Developer", "AI Prompter"]);
                }, 100);

                // --- Animate on Scroll ---
                const scrollObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, { threshold: 0.1 });
                document.querySelectorAll('.animate-on-scroll').forEach(el => {
                    scrollObserver.observe(el);
                });
            }

            // --- Initialize Canvas ---
            createStars();
            setInterval(spawnMeteors, 10000);
            spawnMeteors();
            animateCanvas();

            // --- Mobile Nav ---
            const hamburger = document.getElementById('hamburger');
            const navMenu = document.getElementById('nav-menu-mobile');
            hamburger.addEventListener('click', () => {
                body.classList.toggle('nav-open');
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
            document.querySelectorAll('.nav-menu-mobile a').forEach(link => {
                link.addEventListener('click', () => {
                    body.classList.remove('nav-open');
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                });
            });

            // --- NEW: Popup Contact Form Logic ---
            const openBtn = document.getElementById('floating-contact-btn');
            const closeBtn = document.getElementById('popup-back-btn');
            const popup = document.getElementById('contact-popup-overlay');

            openBtn.addEventListener('click', () => {
                popup.classList.add('visible');
                body.classList.add('popup-open'); // Lock scrolling
            });

            function closePopup() {
                popup.classList.remove('visible');
                body.classList.remove('popup-open'); // Unlock scrolling
            }

            closeBtn.addEventListener('click', closePopup);
            popup.addEventListener('click', (e) => {
                // Close if clicking on the overlay itself, not the content
                if (e.target === popup) {
                    closePopup();
                }
            });

            // --- UPDATED: Contact Form (now inside popup) with AJAX (fetch) ---
            const contactForm = document.getElementById('contact-form');
            const successMessage = document.getElementById('success-message');

            contactForm.addEventListener('submit', function (e) {
                e.preventDefault(); // Prevent the default form submission (page reload)

                const form = e.target;
                const formData = new FormData(form);
                const submitButton = form.querySelector('button[type="submit"]');
                const originalButtonText = submitButton.textContent;

                // Disable button and show sending state
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';

                fetch(form.action, {
                    method: form.method,
                    body: formData,
                    headers: {
                        'Accept': 'application/json' // Formspree recommends this header
                    }
                }).then(response => {
                    if (response.ok) {
                        // SUCCESS! Show the animation
                        contactForm.classList.add('hidden');
                        successMessage.classList.add('visible');
                        successMessage.innerHTML = ''; // Clear previous messages
                        const messageText = "We will be in touch soon";
                        const characters = messageText.split('');
                        const middleIndex = Math.floor(characters.length / 2);
                        characters.forEach((char, index) => {
                            const span = document.createElement('span');
                            span.textContent = char === ' ' ? '\u00A0' : char;
                            successMessage.appendChild(span);
                            const delay = Math.abs(index - middleIndex) * 50;
                            setTimeout(() => {
                                span.style.opacity = '1';
                                span.style.transform = 'translateY(0)';
                            }, delay);
                        });

                        // After animation, reset the form and button
                        setTimeout(() => {
                            successMessage.classList.remove('visible');
                            setTimeout(() => {
                                form.reset();
                                contactForm.classList.remove('hidden');
                                submitButton.disabled = false;
                                submitButton.textContent = originalButtonText;
                                successMessage.innerHTML = '';
                            }, 500);
                        }, 4000);
                    } else {
                        // ERROR from Formspree (e.g., validation error)
                        response.json().then(data => {
                            // Show an error message
                            successMessage.innerHTML = `<span>Oops! ${data.error || 'Something went wrong.'}</span>`;
                            const span = successMessage.querySelector('span');
                            span.style.opacity = '1';
                            span.style.transform = 'translateY(0)';
                            successMessage.classList.add('visible');

                            // Re-enable the button
                            submitButton.disabled = false;
                            submitButton.textContent = originalButtonText;

                            // Hide error after a few seconds
                            setTimeout(() => {
                                successMessage.classList.remove('visible');
                                setTimeout(() => { successMessage.innerHTML = ''; }, 500);
                            }, 4000);
                        });
                    }
                }).catch(error => {
                    // NETWORK ERROR
                    successMessage.innerHTML = '<span>Network error. Please try again.</span>';
                    const span = successMessage.querySelector('span');
                    span.style.opacity = '1';
                    span.style.transform = 'translateY(0)';
                    successMessage.classList.add('visible');

                    // Re-enable the button
                    submitButton.disabled = false;
                    submitButton.textContent = originalButtonText;

                    // Hide error after a few seconds
                    setTimeout(() => {
                        successMessage.classList.remove('visible');
                        setTimeout(() => { successMessage.innerHTML = ''; }, 500);
                    }, 4000);
                });
            });


            // --- Sticky Header ---
            const header = document.getElementById('header');
            window.addEventListener('scroll', () => {
                if (!body.classList.contains('nav-open') && !body.classList.contains('popup-open')) {
                    header.classList.toggle('scrolled', window.scrollY > 50);
                }
            });
        });
    </script>
</body>

</html>
